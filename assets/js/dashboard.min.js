"use strict";!function(t){let e,a=t(document),i=t(window),n=[];if(i.resize((function(){n.forEach((function(t,e){t()}))})),a.ready((function(){n.push(l),l(),"on"===localStorage.getItem("ds_side_minimal")&&i.width()>768&&(t("#sidebar").addClass("minimal"),t("#main").css({paddingLeft:80})),a.on("click","#btn_ds_open_menu",(function(){i.width()<=768?(t("#btn_ds_open_menu").hide(),t("#btn_ds_close_menu").show(),t("#header, #sidebar").addClass("active"),t("#sidebar").addClass("animate")):t("#sidebar").hasClass("minimal")?(t("#sidebar").removeClass("minimal"),t("#main").removeAttr("style"),localStorage.setItem("ds_side_minimal","off")):(t("#sidebar").addClass("minimal"),t("#main").css({paddingLeft:80}),localStorage.setItem("ds_side_minimal","on"))})),a.on("mouseenter","#sidebar .menu li",(function(){if(t("#sidebar").hasClass("active"))return;if(i.width()>992&&!t("#sidebar").hasClass("minimal"))return;const e=this.getBoundingClientRect();t(this).find("span").css({top:e.y,display:"block"})})),a.on("mouseleave","#sidebar .menu li",(function(){t(this).find("span").removeAttr("style")})),a.on("click","#btn_ds_close_menu",(function(){t("#btn_ds_open_menu").show(),t("#btn_ds_close_menu").hide(),t("#header, #sidebar").removeClass("active"),setTimeout((function(){t("#sidebar").removeClass("animate")}),160)})),a.on("click",".btn-ds-log-out",(function(){let e=t('<button type="button" class="btn btn-full btn-primary">No</button>'),a=t('<button type="button" class="btn btn-full">Yes</button>'),i=addAlertPopup({class:"",type:"icon",status:"danger",title:"Are you sure you want to log out?",actionElements:[e,a],actionLayout:"horizontal"});return e.on("click",(function(){i.distory()})),a.on("click",(function(){i.distory()})),!1})),a.on("click",".notification-read-more",(function(){let e=t(this).data("status"),a=t(this).data("label"),i=t(this).data("content"),n=t(this).data("link");return r(e,a,i,n||"ok",t(this).data("link-label")),!1})),t(".activity-chart").each((function(){let e=t(this),a=function(){let t=new Uint32Array(3);return window.crypto.getRandomValues(t),(performance.now().toString(36)+Array.from(t).map((t=>t.toString(36))).join("")).replace(/\./g,"")}(),i=e.data("values"),n=e.data("auto-generate"),o=function(t=null){let e=[],a=t?moment(t):moment();for(let t=0;t<12;t++){let i=a.set("month",t),n=a.daysInMonth();for(let t=1;t<=n;t++)e.push(1==t?i.format("MMM"):"")}return e}();n?i=s():i||(i=[]),e.append(`<canvas style="max-height:280px" id="${a}"></canvas>`);let l=new Chart(a,{type:"line",data:{labels:o,datasets:[{data:i,borderColor:"#4d92f9",backgroundColor:"rgba(26,115,248,0.1)",borderWidth:2,fill:!0,tension:.1}]},options:{interaction:{mode:"nearest",axis:"x",intersect:!1},plugins:{legend:{display:!1},decimation:{enabled:!1,algorithm:"min-max"}},elements:{point:{radius:0}},scales:{x:{ticks:{callback:function(t,e){return""==o[e]?void 0:o[e]}}}}}});e.on("update",(function(t,e){l.data.datasets.forEach((t=>{n&&(t.data=s())})),l.update()}))})),a.on("click",".btn-remove-connection",(function(){let e=t(this),a=(e.data("id"),e.data("name")),i=e.data("avatar"),n=t('<button type="button" class="btn btn-full btn-primary">Remove</button>'),o=t('<button type="button" class="btn btn-full">Cancel</button>'),l=addAlertPopup({class:"",type:"avatar",status:"warning",avatar:i,title:`Are you sure you want to remove ${a} from your connections?`,actionElements:[o,n],actionLayout:"horizontal"});o.on("click",(function(){l.distory()})),n.on("click",(function(){t.ajax({url:"your url",type:"post",contentType:"application/json",dataType:"json",data:"",success:function(t,e,a){l.distory()},error:function(t,e,a){l.distory()}})}))})),a.on("click",".connection-request-sent",(function(){let e=t(this),a=(e.data("id"),e.data("name")),i=t('<button type="button" class="btn btn-full btn-primary">Ok</button>'),n=addAlertPopup({class:"",type:"icon",status:"warning",title:`${a} must accept it first`,content:"Liliana team will review it and you will be notified of the result.",actionElements:[i],actionLayout:"horizontal"});return i.on("click",(function(){n.distory()})),!1})),a.on("click",".connection-request-recieved",(function(){let e=t(this),a=(e.data("id"),e.data("name")),i=t('<button type="button" class="btn btn-full btn-primary">Confirm</button>'),n=t('<button type="button" class="btn btn-full">Delete</button>'),o=addAlertPopup({class:"",type:"icon",status:"warning",title:a,content:`<b>${a}</b> has requested to connect with you as <b>Family.</b>`,actionElements:[n,i],actionLayout:"horizontal"});return i.on("click",(function(){t.ajax({url:"your url",type:"post",contentType:"application/json",dataType:"json",data:"",success:function(t,e,a){o.distory()},error:function(t,e,a){o.distory()}})})),n.on("click",(function(){t.ajax({url:"your url",type:"post",contentType:"application/json",dataType:"json",data:"",success:function(t,e,a){o.distory()},error:function(t,e,a){o.distory()}})})),!1})),a.on("click",".btn-connect",(function(){let e=t('<button type="button" class="btn btn-full btn-primary disable">Submit</button>'),a=t('<button type="button" class="btn btn-full">Cancel</button>'),i=t('<div class="field field-type-radio-2">\n                    <div class="field-content">\n                        <label>\n                            <input type="radio" name="connection_relation" id="connection_relation" value="family">\n                            <div class="checkmark"></div>\n                            <span>Family</span>\n                        </label>\n                    </div>\n                </div>\n                <div class="field field-type-radio-2">\n                    <div class="field-content">\n                        <label>\n                            <input type="radio" name="connection_relation" id="connection_relation" value="friend">\n                            <div class="checkmark"></div>\n                            <span>Friend</span>\n                        </label>\n                    </div>\n                </div>\n                <div class="field field-type-radio-2">\n                    <div class="field-content">\n                        <label>\n                            <input type="radio" name="connection_relation" id="connection_relation" value="colleague">\n                            <div class="checkmark"></div>\n                            <span>Colleague</span>\n                        </label>\n                    </div>\n                </div>\n                <div class="field field-type-radio-2">\n                    <div class="field-content">\n                        <label>\n                            <input type="radio" name="connection_relation" id="connection_relation" value="other">\n                            <div class="checkmark"></div>\n                            <span>Other</span>\n                        </label>\n                    </div>\n                </div>'),n=addAlertPopup({class:"alert-connect",type:"icon",status:"link",title:"Selecte the Relation Type:",content:i,actionElements:[a,e],actionLayout:"horizontal"});i.find("input").on("change",(function(){t(this).val();e.removeClass("disable")})),e.on("click",(function(){n.distory()})),a.on("click",(function(){n.distory()}))})),a.on("click",".btn-remove-photo-gallery",(function(){let e=t(this).find("span");e.html("Removed"),e.prepend('<i class="icon-close"></i>'),t(this).addClass("danger")}));let e={};t("body").hasClass("edit-page")&&(e=getAreaFieldData(t("#ds_content"),!0)),window.addEventListener("beforeunload",(function(a){if(t("body").hasClass("edit-page")){const i="Do you want to leave the page?";let n=getAreaFieldData(t("#ds_content"));if(JSON.stringify(n)!==JSON.stringify(e))return a.returnValue=i,i}t(".page-loading").addClass("visible")})),a.on("click",".btn-save-edit-form",(function(){const a=t(this),i=a.data("page"),n=t(".white-box").find(".field");let l=!1;if(o(),n.each((function(e,a){const i=(new ProValidation).singleValidate(a);t(a).parents("[data-dependency-show=false]").length>0||!1!==l||i||(l=!0)})),t(".table-repeater").each((function(){const e=t(this),a=e.data("required"),i=e.find(".table-repeater-input").val();let n=!1;if(!(e.parents("[data-dependency-show=false]").length>0)&&!0===a){try{n=JSON.parse(i)}catch(t){n=[]}0===n.length&&(l=!0,e.find(".repeater-table").addClass("error"))}})),l)return!1;t(this).html("Saving...").addClass("disable");let s=getAreaFieldData(t("#ds_content"));t.ajax({url:"https://liliana.asensive.ir/api/uploadphoto/",type:"POST",data:{page:i,fields:s},success:function(i){e=s;let n=t('<button type="button" class="btn btn-full btn-primary">Ok</button>'),o=addAlertPopup({class:"",type:"icon",status:"success",title:"Your request was sent Successfully.",actionElements:[n],actionLayout:"horizontal"});n.on("click",(function(){o.distory()})),a.html("Save").removeClass("disable")},error:function(e){let i=t('<button type="button" class="btn btn-full btn-primary">Ok</button>'),n=addAlertPopup({class:"",type:"icon",status:"danger",title:"Your request encountered an error.",actionElements:[i],actionLayout:"horizontal"});i.on("click",(function(){n.distory()})),a.html("Save").removeClass("disable")}})})),a.on("click",".see-change-form",(function(){let e=t(this).data("change"),a=t('<div class="change-log-list"></div>');return e.forEach((function(e){let i=t(`<div class="change-log-item"><div class="change-log-header"><div class="change-log-field">${e.label}</div><div class="change-log-status ${e.status}"></div></div><div class="change-log-content"><div class="change-log-old">${e.current}</div><i class="change-log-icon icon-arrow-right-1"></i><div class="change-log-new">${e.pending}</div></div></div>`);switch(e.status){case"no-approved":i.find(".change-log-status").append(['<i class="icon-close"></i>',"<span>No Approved</span>"]);break;case"expired":i.find(".change-log-status").append(['<i class="icon-close"></i>',"<span>Expired</span>"]);break;case"review":i.find(".change-log-status").append(['<i class="icon-refresh-cw"></i>',"<span>In Review</span>"]);break;case"approved":i.find(".change-log-status").append(['<i class="icon-check"></i>',"<span>Approved</span>"])}e.visibility||(i.find(".change-log-old").html(`<button type="button" class="image-preview-eye-button" data-images="${JSON.stringify(e.current).replaceAll('"',"&quot;")}"><i class="icon-eye"></i></button>`),i.find(".change-log-new").html(`<button type="button" class="image-preview-eye-button" data-images="${JSON.stringify(e.pending).replaceAll('"',"&quot;")}"><i class="icon-eye"></i></button>`)),a.append(i)})),r("change","Your changes are being reviewed.",a),!1})),a.on("click",".gallery-custom-action .base-action button.crop",(function(){let e=t(this).parents(".item-image");new PhotoSelector({id:12,type:"url",url:e.attr("data-img-url"),onDoneCrop:function(a){const i=URL.createObjectURL(a.blob),n=new FormData;n.append("file",a.blob),n.append("id",e.attr("data-img-id")),e.append('<div class="item-loading"><div class="loader"></div><div class="progress-bar"><div class="progress-percent"><span>0</span>%</div><div class="progress-track"><div class="progress-track-processed"></div></div></div></div>'),t.ajax({url:"https://liliana.asensive.ir/api/uploadphoto/",type:"POST",data:n,processData:!1,contentType:!1,xhr:function(){var a=t.ajaxSettings.xhr();return a.upload&&a.upload.addEventListener("progress",(function(t){if(t.lengthComputable){var a=t.loaded/t.total*100;e.find(".item-loading .progress-percent span").html(a.toFixed(0)),e.find(".item-loading .progress-track-processed").width(a+"%")}}),!1),a},success:function(t){e.find(".item-loading").remove(),e.find("img").attr("src",i),e.attr("data-img-url",i)},error:function(e){let a=t('<button type="button" class="btn btn-full btn-primary">Ok</button>'),i=addAlertPopup({class:"",type:"icon",status:"danger",title:"Something went wrong, please check your internet connection and try again",actionElements:[a],actionLayout:"horizontal"});a.on("click",(function(){i.distory()}))}})}}).crop()})),a.on("click",".gallery-custom-action .base-action button.remove",(function(){let e=t(this).parents(".item-image"),a=t('<button type="button" class="btn btn-full btn-primary">Ok</button>'),i=t('<button type="button" class="btn btn-full">Cancel</button>'),n=addAlertPopup({class:"",type:"icon",status:"warning",title:"Should the file be deleted?",actionElements:[i,a],actionLayout:"horizontal"});a.on("click",(function(){a.addClass("disable").html("Waiting..."),i.hide(),t.ajax({url:"http://liliana.asensive.ir/",type:"POST",data:{id:e.attr("data-img-id")},success:function(a){const i=t(`<div class="item-content">\n                        <div class="empty-label">There is no photo for ${e.parents(".gallery-item").find(".item-title").html()}.</div>\n                        <div class="empty-description">\n                            We will be in touch very soon.You complete your main information! You can complete your profile now or complete it later in your dashboard!\n                        </div>\n                        <a href="./gallery-upload.html" class="btn btn-icon-left">\n                            <span><i class="icon-upload"></i>Select or Upload Photo</span>\n                        </a>\n                    </div>`);n.distory(),e.parents(".gallery-item").append(i),e.remove()},error:function(e){n.distory();let a=t('<button type="button" class="btn btn-full btn-primary">Ok</button>'),i=addAlertPopup({class:"",type:"icon",status:"danger",title:"Something went wrong, please check your internet connection and try again",actionElements:[a],actionLayout:"horizontal"});a.on("click",(function(){i.distory()}))}})})),i.on("click",(function(){n.distory()}))})),a.on("click",".gallery-custom-action .base-action button.replace",(function(){let e=t(this).parents(".item-image"),a=t(this).parents(".gallery-item"),i=a.data("ratio");new MediaLibrary({type:"photo",limitSize:10,titleRequired:!1,cropRatio:i||3/4,saveUrl:"https://liliana.asensive.ir/api/gallery/photo-save",fetchUrl:"https://liliana.asensive.ir/api/gallery/photo/",uploadUrl:"https://liliana.asensive.ir/api/gallery/photo-upload",data:{id:e.attr("data-img-id")},translate:{uploadZoneTitle:'<b>Click to upload</b> <span class="visible-desktop">or drag and drop</span> your photo',uploadZoneDescription:"Allowed format: JPG, PNG (Up to: 1 photo/10 Mb)"},onSave:function(t){a.find(".item-image").remove(),a.append(t)}})})),a.on("click",".page-gallery button.btn-select-or-upload",(function(){let e=t(this).parents(".gallery-item"),a=e.data("ratio");new MediaLibrary({type:"photo",limitSize:10,titleRequired:!1,cropRatio:a||3/4,saveUrl:"https://liliana.asensive.ir/api/gallery/photo-save",fetchUrl:"https://liliana.asensive.ir/api/gallery/photo/",uploadUrl:"https://liliana.asensive.ir/api/gallery/photo-upload",data:{for:e.attr("data-for")},translate:{uploadZoneTitle:'<b>Click to upload</b> <span class="visible-desktop">or drag and drop</span> your photo',uploadZoneDescription:"Allowed format: JPG, PNG (Up to: 1 photo/10 Mb)"},onSave:function(t){e.find(".item-content").remove(),e.append(t)}})})),a.on("click","#btn_upload_other_photo",(function(){new MediaLibrary({type:"photo",limitSize:10,titleRequired:!1,multiple:!0,limit:20,cropRatio:"3/4,4/3",saveUrl:"https://liliana.asensive.ir/api/gallery/photo-save",fetchUrl:"https://liliana.asensive.ir/api/gallery/photo/",uploadUrl:"https://liliana.asensive.ir/api/gallery/photo-upload",data:{},translate:{uploadZoneTitle:'<b>Click to upload</b> <span class="visible-desktop">or drag and drop</span> your photo',uploadZoneDescription:"Allowed format: JPG, PNG (Up to: 1 photo/10 Mb)"},onSave:function(e){t("#other_list_items .box-list ul").html(e)}})})),a.on("click","#btn_upload_job_exp_photo",(function(){new MediaLibrary({type:"photo",limitSize:20,titleRequired:!1,multiple:!0,limit:500,cropRatio:"3/4,4/3",saveUrl:"https://liliana.asensive.ir/api/gallery/photo-save",fetchUrl:"https://liliana.asensive.ir/api/gallery/photo/",uploadUrl:"https://liliana.asensive.ir/api/gallery/photo-upload",data:{},translate:{uploadZoneTitle:'<b>Click to upload</b> <span class="visible-desktop">or drag and drop</span> your Job Experiences photo',uploadZoneDescription:"Allowed format: JPG, PNG (Up to: 1 photo/20 Mb)"},onSave:function(e){t("#job_exp_list_items .box-list ul").html(e)}})})),a.on("click","#btn_upload_skill_photo",(function(){new MediaLibrary({type:"photo",limitSize:20,titleRequired:!1,multiple:!0,limit:500,cropRatio:"3/4,4/3",saveUrl:"https://liliana.asensive.ir/api/gallery/photo-save",fetchUrl:"https://liliana.asensive.ir/api/gallery/photo/",uploadUrl:"https://liliana.asensive.ir/api/gallery/photo-upload",data:{},translate:{uploadZoneTitle:'<b>Click to upload</b> <span class="visible-desktop">or drag and drop</span> your Skill photo',uploadZoneDescription:"Allowed format: JPG, PNG (Up to: 1 photo/20 Mb)"},onSave:function(e){t("#skill_list_items .box-list ul").html(e)}})})),a.on("click","#gallery_replace_video",(function(){t("#your_video").parents(".video-upload-drop-zone").trigger("click")}));let c=t(".page-gallery-edit-media .tags .tags-item a").length;a.on("click",".page-gallery-edit-media .tags .tags-form button",(function(){const e=t(this),a=t(".tags .tags-form input");if(""===a.val().trim()){let e=t('<button type="button" class="btn btn-full btn-primary">Ok</button>'),a=addAlertPopup({class:"",type:"icon",status:"danger",title:"The tag value cannot be empty",actionElements:[e],actionLayout:"horizontal"});return void e.on("click",(function(){a.distory()}))}let i=!1;if(void 0===e.attr("data-for")&&(t(".tags .tags-item input").each((function(){t(this).val().trim().toLowerCase()!==a.val().trim().toLowerCase()||(i=t(this).val())})),!1!==i)){let e=t('<button type="button" class="btn btn-full btn-primary">Ok</button>'),a=addAlertPopup({class:"",type:"icon",status:"danger",title:"The tag cannot be duplicated",actionElements:[e],actionLayout:"horizontal"});return void e.on("click",(function(){a.distory()}))}if(e.attr("data-for")){const i=t(`[name="${e.attr("data-for")}"]`);return i.val(a.val().trim()),i.parents("a").find("span").html(a.val().trim()),a.val("").focus(),e.removeAttr("data-for"),void e.html("Add Tag")}const n=t(`<a>\n                <span>${a.val().trim()}</span>\n                <input type="hidden" name="tag[${c++}]" value="${a.val().trim()}"/>\n                <i class="icon-trash trash"></i>\n                <i class="icon-edit edit"></i>\n            </a>`);t(".tags .tags-item").append(n),a.val("").focus()})),a.on("keydown",".page-gallery-edit-media .tags .tags-form input",(function(e){13===e.keyCode&&(e.preventDefault(),t(".tags .tags-form button").trigger("click"))})),a.on("click",".page-gallery-edit-media .tags .tags-item i.trash",(function(){t(this).parents("a").remove()})),a.on("click",".page-gallery-edit-media .tags .tags-item i.edit",(function(){const e=t(this).parents("a"),a=t(".tags .tags-form input"),i=t(".tags .tags-form button");a.val(e.find("input").val()).focus(),i.attr("data-for",e.find("input").attr("name")),i.html("Save Tag")})),a.on("click","#account_visibility",(function(e){const a=t(this);if(a.prop("checked"))return;e.preventDefault();let i=t('<button type="button" class="btn btn-full btn-primary">Ok</button>'),n=t('<button type="button" class="btn btn-full">Cancel</button>'),o=addAlertPopup({class:"",type:"icon",status:"warning",title:"If you deselect the 'account visibility' option, your account will not be shown on our website.",actionElements:[n,i],actionLayout:"horizontal"});n.on("click",(function(){a.prop("checked",!0).trigger("change"),o.distory()})),i.on("click",(function(){a.prop("checked",!1).trigger("change"),o.distory()}))})),a.on("click",".page-gallery-edit-media .audio-card button",(function(t){t.preventDefault()})),a.on("click",".page-user-info .live-table-repeater button.preview",(function(e){const a=t(this).attr("data-value");let i=[];try{i=JSON.parse(a)}catch(e){console.log("Can not decode data.")}const n=t('<div class="table-repeater-form-view preview-mode">\n                <div class="repeater-inner-wrapper">\n                    <div class="repeater-title">Preview</div>\n                    <div class="repeater-content"></div>\n                    <div class="repeater-footer"><button type="button" class="btn btn-primary ok">Ok</button></div>\n                </div>\n                <div class="repeater-overlay"></div>\n            </div>');"image"===i.type?(n.addClass("photo-content"),n.find(".repeater-content").append('<div class="preview-grid"></div>'),n.find(".preview-grid").attr("data-count",i.value.length),i.value.forEach((function(t){n.find(".preview-grid").append(`<div class="grid-item"><img src="${t}"/></div>`)}))):(n.addClass("any-content"),n.find(".repeater-content").append(i.value)),n.on("click",".repeater-footer button.ok, .repeater-overlay",(function(){n.remove()})),t("body").append(n)})),a.on("click",".white-box.expand-event .white-box-header",(function(e){if(t(e.target).parents(".white-box-actions").length>0)return;const a=t(this).parents(".white-box");a.hasClass("active")?a.removeClass("active"):(t(".white-box.expand-event").removeClass("active"),a.addClass("active"))}))})),a.on("change",".filter-years-input input",(function(){let e=t(this);e.parents(".white-box").find(".activity-chart").trigger("update",e.val())})),a.on("click",".btn-close-photo-guide",(function(){t(".light-box").remove()})),a.on("click","#upload_new_other_video, #other_video_list .replace-new-video",(function(e){e.preventDefault(),new MediaLibrary({type:"video",limitSize:20,data:{type:"other-video",id:t(this).data("id")},uploadWithUrl:!0,multiple:!t(this).hasClass("replace-new-video"),openOnLibrary:t(this).hasClass("replace-new-video"),saveUrl:"https://liliana.asensive.ir/api/gallery/video-save",fetchUrl:"https://liliana.asensive.ir/api/gallery/video/",uploadUrl:"https://liliana.asensive.ir/api/gallery/video-upload",translate:{uploadZoneTitle:'<b>Click to upload</b> <span class="visible-desktop">or drag and drop</span> other video',uploadZoneDescription:"Allowed format: MP4 (Up to: 1 photo/20 Mb)"},onSave:function(e){t("#other_video_list .box-list ul").html(e)}})})),a.on("click","#upload_new_polaroid_video, #polaroid_video_list .replace-new-video",(function(e){e.preventDefault(),new MediaLibrary({type:"video",limitSize:50,data:{type:"polaroid-video",id:t(this).data("id")},uploadWithUrl:!0,multiple:!t(this).hasClass("replace-new-video"),openOnLibrary:t(this).hasClass("replace-new-video"),saveUrl:"https://liliana.asensive.ir/api/gallery/video-save",fetchUrl:"https://liliana.asensive.ir/api/gallery/video/",uploadUrl:"https://liliana.asensive.ir/api/gallery/video-upload",translate:{uploadZoneTitle:'<b>Click to upload</b> <span class="visible-desktop">or drag and drop</span> polaroid video',uploadZoneDescription:"Allowed format: MP4 (Up to: 1 photo/50 Mb)"},onSave:function(e){t("#polaroid_video_list .box-list ul").html(e)}})})),a.on("click","#upload_new_introduction_video, #introduction_video_list .replace-new-video",(function(e){e.preventDefault(),new MediaLibrary({type:"video",limitSize:50,data:{type:"introduction-video",id:t(this).data("id")},uploadWithUrl:!0,multiple:!t(this).hasClass("replace-new-video"),openOnLibrary:t(this).hasClass("replace-new-video"),saveUrl:"https://liliana.asensive.ir/api/gallery/video-save",fetchUrl:"https://liliana.asensive.ir/api/gallery/video/",uploadUrl:"https://liliana.asensive.ir/api/gallery/video-upload",translate:{uploadZoneTitle:'<b>Click to upload</b> <span class="visible-desktop">or drag and drop</span> introduction video',uploadZoneDescription:"Allowed format: MP4 (Up to: 1 photo/50 Mb)"},onSave:function(e){t("#introduction_video_list .box-list ul").html(e)}})})),a.on("click","#upload_new_job_exp_video, #job_exp_video_list .replace-new-video",(function(e){e.preventDefault(),new MediaLibrary({type:"video",limitSize:70,limit:500,data:{type:"job-experiences-video",id:t(this).data("id")},uploadWithUrl:!0,multiple:!t(this).hasClass("replace-new-video"),openOnLibrary:t(this).hasClass("replace-new-video"),saveUrl:"https://liliana.asensive.ir/api/gallery/video-save",fetchUrl:"https://liliana.asensive.ir/api/gallery/video/",uploadUrl:"https://liliana.asensive.ir/api/gallery/video-upload",translate:{uploadZoneTitle:'<b>Click to upload</b> <span class="visible-desktop">or drag and drop</span> Job Experiences video',uploadZoneDescription:"Allowed format: MP4 (Up to: 1 photo/70 Mb)"},onSave:function(e){t("#job_exp_video_list .box-list ul").html(e)}})})),a.on("click","#upload_new_skills_video, #skills_video_list .replace-new-video",(function(e){e.preventDefault(),new MediaLibrary({type:"video",limitSize:70,limit:500,data:{type:"skill-video",id:t(this).data("id")},uploadWithUrl:!0,multiple:!t(this).hasClass("replace-new-video"),openOnLibrary:t(this).hasClass("replace-new-video"),saveUrl:"https://liliana.asensive.ir/api/gallery/video-save",fetchUrl:"https://liliana.asensive.ir/api/gallery/video/",uploadUrl:"https://liliana.asensive.ir/api/gallery/video-upload",translate:{uploadZoneTitle:'<b>Click to upload</b> <span class="visible-desktop">or drag and drop</span> Skills video',uploadZoneDescription:"Allowed format: MP4 (Up to: 1 photo/70 Mb)"},onSave:function(e){t("#skills_video_list .box-list ul").html(e)}})})),a.on("click",".page-video-gallery .box-list a.remove",(function(e){e.preventDefault();const a=t(this),i=a.parents(".li"),n=a.attr("data-id");o();let l=t('<button type="button" class="btn btn-full btn-primary">Ok</button>'),s=t('<button type="button" class="btn btn-full">Cancel</button>'),r=addAlertPopup({class:"",type:"icon",status:"warning",title:"Should the file be deleted?",actionElements:[s,l],actionLayout:"horizontal"});l.on("click",(function(){l.addClass("disable").html("Waiting..."),s.hide(),o(),t.ajax({url:"http://liliana.asensive.ir/",type:"POST",data:n,success:function(t){r.distory(),i.remove()},error:function(e){r.distory();let a=t('<button type="button" class="btn btn-full btn-primary">Ok</button>'),i=addAlertPopup({class:"",type:"icon",status:"danger",title:"Something went wrong, please check your internet connection and try again",actionElements:[a],actionLayout:"horizontal"});a.on("click",(function(){i.distory()}))}})})),s.on("click",(function(){r.distory()}))})),a.on("click","#upload_new_voice",(function(e){e.preventDefault(),new MediaLibrary({type:"audio",multiple:!0,openOnLibrary:!1,saveUrl:"https://liliana.asensive.ir/api/gallery/audio-save",fetchUrl:"https://liliana.asensive.ir/api/gallery/audio/",uploadUrl:"https://liliana.asensive.ir/api/gallery/audio-upload",translate:{uploadZoneTitle:'<b>Click to upload</b> <span class="visible-desktop">or drag and drop</span> your audio',uploadZoneDescription:"Allowed format: MP3 (Up to: 1 photo/10 Mb)"},onSave:function(e){t(".page-voice-gallery .gallery-grid").prepend(e),initAudioCard()}})})),a.on("click",".page-voice-gallery .gallery-grid button.remove",(function(e){e.preventDefault();const a=t(this),i=a.parents(".gallery-item"),n=a.attr("data-id");o();let l=t('<button type="button" class="btn btn-full btn-primary">Ok</button>'),s=t('<button type="button" class="btn btn-full">Cancel</button>'),r=addAlertPopup({class:"",type:"icon",status:"warning",title:"Should the file be deleted?",actionElements:[s,l],actionLayout:"horizontal"});l.on("click",(function(){l.addClass("disable").html("Waiting..."),s.hide(),o(),t.ajax({url:"http://liliana.asensive.ir/",type:"POST",data:n,success:function(t){r.distory(),i.remove()},error:function(e){r.distory();let a=t('<button type="button" class="btn btn-full btn-primary">Ok</button>'),i=addAlertPopup({class:"",type:"icon",status:"danger",title:"Something went wrong, please check your internet connection and try again",actionElements:[a],actionLayout:"horizontal"});a.on("click",(function(){i.distory()}))}})})),s.on("click",(function(){r.distory()}))})),a.on("input","#new_password, #confirm_new_password, #current_password",(function(){if(t("body").hasClass("page-security-privacy")){const e=t("#new_password"),a=t("#confirm_new_password"),i=t("#current_password");let n=!1;""!==e.val().trim()?n=!0:(n=!1,e.parents(".form-section-content").find(".field").removeClass("field--invalid field--valid"),e.parents(".form-section-content").find(".field-error-msg").removeClass("active"),e.parents(".form-section-content").find(".password-strength").removeClass("active"),e.parents(".form-section-content").find("#password_hint_new_password").show()),e.parents(".field").data("required",n),a.parents(".field").data("required",n),i.parents(".field").data("required",n)}})),a.on("click",".btn-social-verify",(function(){const e=t(this),a=e.data("type"),i=t(e.data("target")),n=t(e.data("target-2")),o={type:a,value:i.val(),value2:n.val()};e.html("Waiting...").addClass("disable"),t.ajax({url:"https://liliana.asensive.ir/api/uploadphoto/",type:"POST",data:o,success:function(a){e.html("Verify").removeClass("disable");const i=t('<button type="button" class="btn btn-full btn-primary">Verify</button>'),n=t('<div class="row row-gap-16"><div class="col-12">Enter the code sent in the section</div><div class="col-12"><div class="field field-type-nr-input" data-type="text" data-required="true" data-required-type="verifycode"><div class="field-content"><label for="verify_code">Verify Code <span class="field-required-star">*</span></label><input type="text" id="verify_code"></div></div><div class="field-error-msg" id="field_error_verify_code"></div></div><div class="col-12"><a href="#" class="form-resend-timer">Send Again<span> After <span class="timer">2:00</span></span></a></div></div>');let o=addAlertPopup({class:"",type:"icon",status:"success",title:"Code sent successfully.",actionElements:[i],content:n,actionLayout:"horizontal",onDistory:function(){n.find(".form-resend-timer").trigger("clear")}});n.find(".form-resend-timer").on("click",(function(){t(this).hasClass("timer-active")||t.ajax({url:"https://liliana.asensive.ir/api/uploadphoto/",type:"POST",data:a,success:function(t){n.find(".form-resend-timer").trigger("resend")},error:function(t){}})})),fieldDetector(),initResendTimer(),i.on("click",(function(){(new ProValidation).singleValidate(n.find(".field"))?(i.html("Waiting...").addClass("disable"),t.ajax({url:"https://liliana.asensive.ir/api/uploadphoto/",type:"POST",data:a,success:function(e){o.distory(),i.html("Verify").removeClass("disable"),n.find(".form-resend-timer").trigger("resend"),setTimeout((function(){const e=t('<button type="button" class="btn btn-full btn-primary">OK</button>');let a=addAlertPopup({class:"",type:"icon",status:"success",title:"Your account has been successfully verified",actionElements:[e],actionLayout:"horizontal"});e.on("click",(function(){a.distory()}))}),250)},error:function(e){o.distory(),i.html("Verify").removeClass("disable"),setTimeout((function(){const e=t('<button type="button" class="btn btn-full btn-primary">OK</button>');let a=addAlertPopup({class:"",type:"icon",status:"danger",title:"Something went wrong, please check your internet connection and try again",actionElements:[e],actionLayout:"horizontal"});e.on("click",(function(){a.distory()}))}),250)}})):n.find(".field").addClass("field--invalid")}))},error:function(a){e.html("Verify").removeClass("disable");const i=t('<button type="button" class="btn btn-full btn-primary">OK</button>');let n=addAlertPopup({class:"",type:"icon",status:"danger",title:"Something went wrong, please check your internet connection and try again",actionElements:[i],actionLayout:"horizontal"});i.on("click",(function(){n.distory()}))}})})),t(".mini-circle-progress").length>0){let t=document.querySelectorAll(".mini-circle-progress");const e=Array(t.length),a=Array(t.length);e.fill(0),t.forEach(((t,i)=>{a[i]=setInterval((()=>{e[i]==parseInt(t.dataset.num)?clearInterval(a[i]):(e[i]+=1,t.style.background="conic-gradient(#0D0D0D calc("+e[i]+"%), #E9E9E9 0deg)",t.setAttribute("data-value",e[i]+"%"),t.innerHTML=e[i]+"%")}),15)}))}function o(){t("input, select, textarea, button, a").blur()}function l(){i.width()<=576?(t(".visible-desktop").attr("data-dependency-show","false"),t(".visible-mobile").attr("data-dependency-show","true")):(t(".visible-desktop").attr("data-dependency-show","true"),t(".visible-mobile").attr("data-dependency-show","false"))}function s(){let t=[],e=0,a=10;for(let i=0;i<365;i++){let n=Math.floor(100*Math.random()+1),o=n;n<=e+a&&n>=e-a?o=n:n>e+a?o=e+a:n<e-a&&(o=e-a),t.push({x:i,y:o}),e=o}return t}function r(e,a,i,n=!1,o=null){let l=t('<div class="notification-label"></div>'),s=t('<div class="notification-content"></div>');return new ModalSide({class:"notification-modal",appbarTitle:"change"===e?"Changes":"Notification",actions:0!=n,onClose:function(t){t.distory()},onBeforeGenerate:function(r){switch(e){case"success":r.innerContent.append('<i class="icon-tick notification-icon success"></i>');break;case"danger":r.innerContent.append('<i class="icon-alert-triangle notification-icon danger"></i>');break;case"info":r.innerContent.append('<i class="icon-info notification-icon info"></i>');break;case"change":r.innerContent.append('<i class="icon-sand-watch notification-icon info"></i>');break;case"warning":r.innerContent.append('<i class="icon-alert-triangle notification-icon warning"></i>')}if(r.innerContent.append(l),r.innerContent.append(s),l.append(a),s.append(i),"ok"==n){let e=t('<button type="button" class="btn btn-primary btn-full">Ok</button>');e.on("click",(function(){r.distory()})),r.actions.append(e)}else if(n){let e=t(`<a href="${n}" class="btn btn-primary btn-full btn-icon-right"><span>${o}<i class="icon-arrow-right-1"></i></span></a>`);e.on("click",(function(){r.distory()})),r.actions.append(e)}}})}i.on("load",(function(){"undefined"!=typeof LazyLoad&&(e=new LazyLoad({class_applied:"lz-applied",class_loading:"lz-loading",class_loaded:"lz-loaded",class_error:"lz-error",class_entered:"lz-entered",class_exited:"lz-exited"})),setTimeout((function(){t(".page-loading").removeClass("visible"),t("body").css("visibility","visible")}),300)})),i.on("pageshow",(function(e){e.originalEvent.persisted&&setTimeout((function(){t(".page-loading").removeClass("visible"),t("body").css("visibility","visible")}),300)}))}(jQuery);