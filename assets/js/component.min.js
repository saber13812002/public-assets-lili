"use strict";let currentSelect=null,elementRepeater=[];function uid(){let e=new Uint32Array(3);return window.crypto.getRandomValues(e),(performance.now().toString(36)+Array.from(e).map((e=>e.toString(36))).join("")).replace(/\./g,"")}function initAudioCard(){$(".audio-card").each((function(){const e=$(this),t=e.data("src");let a=new Audio,n=1;function i(e){return o(parseInt(e/60%60))+":"+o(parseInt(e%60))}function o(e){return e<10?"0"+e:e}e.data("detect")||(e.attr("data-detect",!0),a.addEventListener("timeupdate",(function(){let t=this.currentTime/this.duration*100;e.find(".slider-control .slider-track-process").width(t+"%"),e.find(".slider-control input").val(t||0),e.find(".card-time span:eq(0)").html(i(this.currentTime)),this.duration&&e.find(".card-time span:eq(1)").html(i(this.duration)),this.ended&&e.removeClass("play")})),a.addEventListener("waiting",(function(){e.find(".card-loading").css("display","flex")})),a.addEventListener("canplay",(function(){e.find(".card-loading").hide()})),e.find(".slider-control input").on("input",(function(){""===a.src&&(a.src=t,a.load()),a&&(e.find(".slider-control .slider-track-process").width($(this).val()+"%"),a.currentTime=a.duration*$(this).val()/100,e.find(".card-time span:eq(0)").html(i(a.currentTime)),this.duration&&e.find(".card-time span:eq(1)").html(i(a.duration)))})),e.find(".card-volume input").on("input",(function(){n=parseFloat($(this).val()),a.volume=n,e.find(".card-volume .slider-track-process").width(100*a.volume+"%"),0===n?(e.find(".volume-mute-btn").show(),e.find(".volume-on-btn").hide()):(e.find(".volume-on-btn").show(),e.find(".volume-mute-btn").hide())})),e.find(".play-btn").on("click",(function(){""===a.src&&(a.src=t,a.load()),$(".audio-card").trigger("pause"),a.play(),e.addClass("play")})),e.find(".pause-btn").on("click",(function(){a.pause(),e.removeClass("play"),e.find(".card-loading").hide()})),e.find(".volume-mute-btn").on("click",(function(){a.volume=n,e.find(".card-volume input").val(n),e.find(".card-volume .slider-track-process").width(100*n+"%"),e.find(".volume-on-btn").show(),$(this).hide()})),e.find(".volume-on-btn").on("click",(function(){a.volume=0,e.find(".card-volume input").val(0),e.find(".card-volume .slider-track-process").width("0%"),e.find(".volume-mute-btn").show(),$(this).hide()})),e.on("destroy",(function(){a.pause(),a=void 0,e.removeClass("play"),e.find(".card-loading").hide()})),e.on("pause",(function(){a.pause(),e.removeClass("play"),e.find(".card-loading").hide()})))}))}function fieldDetector(){$(".field").each((function(){let e=$(this),t=e.find("input"),a=e.data("type"),n=e.hasClass("field-type-nr-input");if(e.data("field-detect"))return!0;switch(e.attr("data-field-detect","true"),e.attr("id",uid()),e.hasClass("field-type-text-area")&&(t=e.find("textarea"),n=!0),a){case"text":case"number":case"textarea":""!=t.val()&&e.addClass("field--lv-label"),t.on("focus",(function(){e.addClass("field--focus field--lv-label")})),t.on("blur",(function(){e.removeClass("field--focus"),""===$(this).val()&&e.removeClass("field--lv-label");(new ProValidation).singleValidate(e[0])})),t.on("change",(function(){""!=$(this).val()?e.addClass("field--lv-label"):e.removeClass("field--lv-label")})),t.on("input",(function(){let t=parseInt(e.attr("data-max-length"));$(this).val().length>t&&$(this).val($(this).val().substring(0,t))})),t.on("keyup change",(function(){(new ProValidation).singleValidate(e[0])}));break;case"radio":t.on("change",(function(){const e=$(this),t=e.attr("name");$(`[name="${t}"]`).parents(".field").removeClass("field--invalid"),e.parents(".field-group-validations").find(".field-error-msg").hide()}));break;case"checkbox":case"upload":t.on("change",(function(){(new ProValidation).singleValidate(e[0])}));break;case"date":case"time":""!==t.val()&&e.addClass("field--lv-label")}if(e.hasClass("field-type-select")){let t=[],a=null,n=e.find("select"),d=n.attr("data-default-value"),r=e.data("custom-html"),c=!!e.find("select").attr("multiple"),u=e.data("field-defualt-text"),p=e.find(".field-content"),f=null,v=$('<input type="hidden">'),h=$('<div class="field-option-selected"></div>'),m=e.find("label").clone();m.find("> *").remove();let b=$(`<button type="button" class="field-event-box" aria-label="Open ${m.html()} Select"></button>`);if(c&&e.addClass("multiple"),d&&v.attr("data-default-value",d),e.data("source")){let a=n.attr("data-default-value")?n.attr("data-default-value").split(","):[];new ApiRequest({url:e.data("source"),success:function(e){t=[],e.forEach((function(e){t.push({id:e.id,text:e.text,value:e.value,color:e.color,flag:e.flag,isSelected:-1!=$.inArray(e.value,a)})})),t.sort(((e,t)=>e.text.localeCompare(t.text))),i()}})}else{let a=[];e.find("select option[selected]").each((function(){a.push($(this).val())})),e.find("select option").each((function(){$(this);t.push({id:$(this).attr("value"),text:$(this).html(),value:$(this).attr("value"),color:$(this).data("color"),flag:$(this).data("flag"),isSelected:-1!=$.inArray($(this).attr("value"),a)})}))}function i(){let a=[],n=[];t.forEach((function(e){e.isSelected&&(a.push(e.id),n.push(e.text))})),l(),v.attr("data-label",n.join(", ")),v.val(a.join(",")).trigger("change"),e.attr("data-item-count",t.length)}function o(e){t.forEach((function(t){t.isSelected=e}))}function l(){let a=[],n=[];t.forEach((function(e,t){if(e.isSelected){let i="";c&&(i+=`<div class="selected-item"><i class="icon-close option-remove" data-index="${t}"></i>`),e.flag&&(i+=`<img class="option-icon" src="${e.flag}">`),e.color&&(i+=`<div class="option-color" style="background-color:${e.color};"></div>`),i+=`<span>${e.text}</span>`,c&&(i+="</div>"),n.push(i),a.push(e.text)}})),a.length>0?(e.addClass("field--selected"),h.html(n.join("")),v.attr("data-label",a.join(", "))):(e.removeClass("field--selected"),h.html(u),v.attr("data-label","")),h.innerHeight()>48&&c?e.css({height:"auto"}):c&&e.css({height:"48px"})}function s(){(new ProValidation).singleValidate(e[0]),f.trigger("reset")}v.on("clear",(function(){t=[],v.val("").trigger("change"),i()})),v.on("sourceReset",(function(){if(e.attr("data-source")){let a=v.attr("data-default-value")?v.attr("data-default-value").split(","):[];t=[],new ApiRequest({url:e.attr("data-source"),success:function(e){for(let n of Object.values(e))t.push({id:n.id,text:n.text,value:n.value,color:n.color,flag:n.flag,isSelected:-1!=$.inArray(n.value,a)});t.sort(((e,t)=>e.text.localeCompare(t.text))),i()}})}})),v.on("optionsReset",(function(){try{const a=e.attr("data-options"),n=JSON.parse(a),o=v.attr("data-default-value"),l=o||[];t=[],n.forEach((function(e){t.push({id:e.id,text:e.text,value:e.value,color:e.color,flag:e.flag,isSelected:l.includes(e.value)})})),t.sort(((e,t)=>e.text.localeCompare(t.text))),i()}catch(e){console.log("Note that the data-options attribute exists and its value structure is correct. (The value structure is an array whose items are objects similar to the use of data-source)"),console.log(e)}})),h.on("click",".option-remove",(function(){const e=$(this).data("index");t[e].isSelected=!1,i(),s()})),v.attr({id:n.attr("id"),name:n.attr("name"),"data-value":n.attr("data-value")}),r||(i(),n.remove(),p.append(v),p.append(h),h.innerHeight()>48&&c?e.css({height:"auto"}):c&&e.css({height:"48px"})),u||e.addClass("field--lv-label-important"),e.append(b),v.on("reset",(function(){let e=$(this).val().split(",");o(!1),e.forEach((function(e){t.forEach((function(t){t.id==e&&(t.isSelected=!0)}))})),l()})),v.on("change",(function(){(e.hasClass("field--invalid")||e.hasClass("field--valid"))&&s()})),b.on("click",(function(){if(e.hasClass("field--focus"))return currentSelect=null,f&&f.trigger("destroy"),e.removeClass("field--focus"),""===v.val()?e.removeClass("field--lv-label field--selected"):(e.removeClass("field--lv-label"),e.addClass("field--selected")),s(),!1;if(r){let t=e.find(".custom-html");return currentSelect=e,e.addClass("field--focus"),u&&e.addClass("field--lv-label"),$(window).width()<576?new ModalScreen({class:"modal-field-select-custom-html",title:e.find("> .field-content label").text(),closeBtnIconClass:"icon-arrow-up",beforeGenerate:function(e){t.appendTo(e.innerContent)},beforeDistory:function(){t.appendTo(e)},closeBtnCallback:function(e){e.distory()}}):e.append(a),!1}f=$('<div class="field-select-options"></div>');let n=$('<div class="field-select-search-wrapper"><i class="icon-search-normal"></i></div>'),l=$('<input type="search" placeholder="Search...">'),d=$("<ul></ul>"),p=!1;if(e.data("field-search")&&f.addClass("active-search"),!0===e.data("clear")){const e=$('<button type="button" class="clear-options"><i class="icon-trash-2"></i> Clear Selected Items</button>');d.append(e),e.on("click",(function(){d.find("li").removeClass("active"),o(!1),i(),s()}))}const h=$('<li class="select-all-option"><div class="option-name">Select All</div><i class="icon-tick"></i></li>');if(!0===e.data("select-all")&&(d.append(h),h.on("click",(function(){$(this).hasClass("active")?(d.find("li").removeClass("active"),o(!1)):(d.find("li").addClass("active"),o(!0)),i(),s()}))),t.forEach((function(a){!function(a){let n=$(`<li data-id="${a.id}"><div class="option-name">${a.text}</div><i class="icon-tick"></i></li>`);a.flag&&n.prepend(`<img class="option-icon" src="${a.flag}">`),a.color&&n.prepend(`<div class="option-color" style="background-color:${a.color};"></div>`),!c&&!a.flag&&!a.color&&$(window).width()<576&&(p=!0,n.addClass("btn btn-primary btn-full")),d.append(n),a.isSelected&&n.addClass("active"),n.on("click",(function(){c||(o(!1),d.find("li").removeClass("active")),a.isSelected?(a.isSelected=!1,n.removeClass("active")):(a.isSelected=!0,n.addClass("active")),c?f.trigger("reset"):(e.removeClass("field--focus"),e.addClass("field--selected"),f.trigger("destroy")),t.every((e=>!0===e.isSelected))?h.addClass("active"):h.removeClass("active"),i(),s()}))}(a)})),l.on("keyup",(function(){let e=$(this).val();""!=e?t.forEach((function(t){-1!=t.text.search(new RegExp(e,"i"))?d.find(`li[data-id="${t.id}"]`).show():d.find(`li[data-id="${t.id}"]`).hide()})):d.find("li").show(),m()})),$(window).width()<576){let a=e.find("> .field-content label").clone();a.find("> *").remove(),new ModalScreen({class:`modal-field-select ${p?"btn-mode":""} ${e.hasClass("wheel-mode")?"":"full-height"}`,title:a.text(),closeBtnIconClass:"icon-arrow-up",showFooter:!!e.data("btn-submit-text"),beforeGenerate:function(a){if(e.hasClass("wheel-mode")){let e,a=[];t.forEach((function(t){t.isSelected&&(e=t.id),a.push({value:t.id,label:t.text})}));let n=new WheelPicker({around:1,items:a,default:e,onSelect:function(e){o(!1),t.forEach((function(t){t.id==e&&(t.isSelected=!0)}))}});this.innerContent.append(n)}else e.data("field-search")&&(n.append(l),this.innerContent.append(n)),this.innerContent.append(d),0===t.length&&this.innerContent.append('<div class="options-message">There is no item</div>');if(e.data("btn-submit-text")){let t=$(`<button type="button" class="btn btn-full btn-primary">${e.data("btn-submit-text")}</button>`);a.footer.append(t),t.on("click",(function(){e.hasClass("wheel-mode")&&i(),a.distory()}))}},closeBtnCallback:function(e){e.distory()},beforeDistory:function(e){s()}})}else currentSelect=e,e.data("field-search")&&(n.append(l),f.append(n)),f.append(d),e.append(f),e.addClass("field--focus"),u&&e.addClass("field--lv-label"),f.css("height","auto"),f.on("wheel",(function(e){const t=f.scrollTop(),a=f.height(),n=f[0].scrollHeight,i=Math.round(t+a);t<=0&&e.originalEvent.deltaY<0&&e.preventDefault(),i>=n&&e.originalEvent.deltaY>0&&e.preventDefault()})),m(),$(window).on("scroll",m),f.parents("*").on("scroll",m),f.on("reset",m),f.on("destroy",(function(){f.remove(),$(window).off("scroll",m),f.parents("*").off("scroll",m)}));function m(){const t=e[0].getBoundingClientRect(),a=f.height(),n=$(window).height(),i=t.y+t.height-1;let o=i;t.y+t.height<=0?o=0:n-(t.y+t.height)>=a?o=i:t.y>=a?o=t.y-a:i+a>n&&(o=i-(i+a-n)),f.css({top:o,left:t.x,width:t.width})}0===t.length&&f.append('<div class="options-message">There is no item</div>')}))}else if(e.hasClass("field-type-slider")){let a=parseInt(t.attr("min")),n=parseInt(t.attr("max"));function d(t){let i=parseInt($(t).val()),o=i/(a+n)*100;e.find(".slider-track").css({backgroundImage:`linear-gradient(to right,#0D0D0D 0%,#0D0D0D ${o}% ,#C2C2C2 ${o}%)`}),e.find(".slider-left-value .slider-value").html(i)}d(t[0]),t.on("input",(function(){d(this)}))}else if(e.hasClass("field-type-multi-slider")){let a=parseInt($(t[0]).attr("min")),n=parseInt($(t[0]).attr("max")),i=e.data("sub-fix");function d(t,o,l){let s=parseInt($(t).val()),d=parseInt($(o).val()),r=l?s>=d?s:d:s<=d?s:d;$(t).val(r);let c=l?d:r,u=l?r:d,p=(l?d:r)/(a+n)*100,f=(l?r:d)/(a+n)*100;e.find(".slider-track").css({backgroundImage:`linear-gradient(to right,#C2C2C2 ${p}%,#0D0D0D ${p}% ,#0D0D0D ${f}%,#C2C2C2 ${f}%)`}),c==a&&u==n?e.find("label").html(e.data("label")):e.find("label").html(`${e.data("label")}: ${c} ${i} - ${u} ${i}`)}d(t[0],t[1],!1),$(t[0]).on("input",(function(){d(this,t[1],!1)})),$(t[1]).on("input",(function(){d(this,t[0],!0)})),$(t).on("reset",(function(){d(this,t[1],!1)}))}}))}function initResendTimer(){$(".form-resend-timer").each((function(){const e=$(this);let t;function a(a,n){let i=60*a;t=setInterval((function(){const a=Math.floor(i/60),o=i%60;n.html(`${a}:${o.toString().padStart(2,"0")}`),e.addClass("timer-active"),i<=0&&(clearInterval(t),e.removeClass("timer-active"),e.find("span").hide()),i--}),1e3)}e.data("detect")||(e.data("detect",!0),a(2,e.find(".timer")),e.on("click",(function(){const t=e.attr("href");if(e.hasClass("timer-active"))return!1;if(""===t)return!1;try{new URL(t),$.ajax({url:t,type:"GET",success:function(t){a(2,e.find(".timer")),e.find("span").show(),e.find(".timer").html("2:00")},error:function(e){}})}catch(e){}return!1})),e.on("resend",(function(){clearInterval(t),a(2,e.find(".timer")),e.find("span").show(),e.find(".timer").html("2:00")})),e.on("clear",(function(){clearInterval(t)})))}))}function bodyOverflowController(e=!1){const t=$("body");$(window).width()>576||(e?t.css({overflow:"hidden"}):t.css({overflow:""}))}function getAreaFieldData(e,t=!1){let a={};return e.find(".field").each((function(){const e=$(this),n=e.data("type"),i=e.find("input, textarea"),o=i.attr("name");switch(n){case"text":case"number":case"textarea":case"upload":a[o]=i.val();break;case"select":let e=i.data("value"),n=i.val();a[o]=n?""===n&&t?e||"":n:t&&e||"";break;case"radio":let l=$(`input[name="${o}"]:checked`).val();a[o]=l||"";break;case"checkbox":a[o]=i.is(":checked")}})),e.find(".table-repeater").each((function(){const e=$(this).find("input"),t=e.attr("name");a[t]=e.val()})),a}function formValidation(e,t=!1){let a,n=$(e),i={};function o(e,t,a,n){return{id:e,element:t,label:a,type:n}}return a=n.data("field-validation")?n:n.find("[data-field-validation=true]"),a.each((function(){let e,a,n=$(this),l=n.data("type"),s=n.data("id"),d=n.data("error-msg"),r=!1;if(n.parents("[data-dependency-show=false]").length)return!0;let c=checkValidationValueField(n);if(void 0!==c&&c&&(r=!0,i[a]=o(s,n,d,l)),void 0===c)switch(l){case"text":case"number":case"location":case"date":case"time":case"select":case"upload":e=n.find("input"),a=e.attr("name"),""===e.val()&&(r=!0,i[a]=o(s,n,d,l));break;case"textarea":e=n.find("textarea"),a=e.attr("name"),""===e.val()&&(r=!0,i[a]=o(s,n,d,l));break;case"radio":e=n.find("input"),a=e.attr("name"),0===$(`input[name="${a}"]:checked`).length&&(r=!0,i[a]=o(s,n,d,l));break;case"checkbox":e=n.find("input"),a=e.attr("name"),e.is(":checked")||(r=!0,i[a]=o(s,n,d,l))}t&&r?n.addClass("field--invalid"):r||n.removeClass("field--invalid")})),i}function checkValidationValueField(e){let t=e.data("field-validation-with"),a=e.data("field-validation-type"),n=e.data("field-validation-value");if(void 0!==t){let e=$("#"+t);switch(e.parents(".field").data("type")){case"text":case"number":case"location":case"date":case"time":case"select":case"upload":case"textarea":if("required"===a)return e.val()==n;if("exclusive"===a)return e.val()!=n;break;case"radio":if("required"===a)return!e.is(":checked");if("exclusive"===a)return $(`input[name="${name}"]:checked`).length>0&&$(`input[name="${name}"]:checked`).attr("id")!=e.attr("id")}}}function addAlertPopup(e={}){return new PopupJS({class:"alert-popup "+e.type+" "+e.class,onBeforeGenerate:function(t){let a=$('<div class="alert-inner-content"></div>'),n=$('<div class="alert-actions"></div>');if("avatar"==e.type)t.content.append(`<img src="${e.avatar}" class="alert-avatar"/>`);else if("icon"==e.type)switch(e.status){case"success":t.content.append('<i class="icon-tick alert-icon success"></i>');break;case"danger":t.content.append('<i class="icon-alert-triangle alert-icon danger"></i>');break;case"info":t.content.append('<i class="icon-info alert-icon info"></i>');break;case"warning":t.content.append('<i class="icon-alert-triangle alert-icon warning"></i>');break;default:t.content.append('<i class="icon-'+e.status+' alert-icon"></i>')}t.content.append(`<div class="alert-title">${e.title}</div>`),t.content.append(a),a.append(e.content),e.actionElements.length&&(n.addClass(e.actionLayout),t.content.append(n),e.actionElements.forEach((function(e){n.append(e)})))},onAfterDistory:function(){e.onDistory&&e.onDistory()}})}!function(e){e(document).ready((function(){function t(){e(".win-full-height").height(e(window).height())}function a(){e(".tabs").each((function(){const t=e(this),a=t.data("active"),n=function(e){t.find(".tabs-item li").removeClass("active"),t.find(`.tabs-item #${e}`).addClass("active"),t.find(".tab-content-item").removeClass("active"),t.find(`.tab-content-item[data-tab-target="${e}"]`).addClass("active")};n(a),t.find(".tabs-item li").on("click",(function(){n(e(this).attr("id"))}))}))}function n(){e(".upload-drop-zone").each((function(){const t=e(this),a=t.find("input"),n=t.parents(".field").parent().find(".upload-drop-zone-file"),i=t.find("label");let o=t.data("accept"),l=t.data("ratio"),s=t.data("wizard"),d=t.data("wizard-title"),r=t.data("wizard-desc"),c=t.data("wizard-tag"),u=t.data("limit-count"),p=t.data("limit-size"),f=t.data("edit-mode"),v=t.data("edit-type"),h=t.data("view-more");function m(){if((""===a.val().trim()?0:a.val().split(",").length)>=(void 0===u?1:u)){let t=e('<button type="button" class="btn btn-full btn-primary">Ok</button>'),a=addAlertPopup({class:"",type:"icon",status:"danger",title:`You are allowed to upload ${u} photos`,actionElements:[t],actionLayout:"horizontal"});return t.on("click",(function(){a.distory()})),!1}return!0}function b(){let e=[];try{e=JSON.parse(t.attr("data-default"))}catch(t){e=[]}return e}function g(e){const n=1===u?[]:b();n.push(e),a.val(n.map((function(e){return e.id})).join(",")).trigger("change"),t.attr("data-default",JSON.stringify(n))}function y(e,n){let i=b();i=i.map((function(t){return t.id===e?n:t})),a.val(i.map((function(e){return e.id})).join(",")).trigger("change"),t.attr("data-default",JSON.stringify(i))}function w(e=null){new FileSelector({files:e,ratio:void 0===l?[]:l.split(","),accept:void 0===o?["*"]:o.split(","),limitSize:void 0===p?10:parseFloat(p),wizard:s,upload:!0,uploadUrl:"https://liliana.asensive.ir/api/uploadphoto/",title:d,description:r,tags:c,onUpload:function(e,t,a){g(e),C()}})}function C(){const a=b();if(n.find("> *").remove(),t.find(".limit-count").html(u-a.length),0===a.length)return n.removeClass("active"),void t.show();a.reverse().forEach((function(t,i){if(h){if(5===i){let t=e('<button type="button" class="upload-item btn-see-all-uploaded"><span>See all uploaded photos</span></button>');return n.append(t),void t.on("click",(function(){let t=e('<div class="upload-drop-zone-more-file">\n                                        <div class="overlay"></div>\n                                        <div class="upload-content">\n                                            <div class="upload-header">\n                                                <div class="upload-title">Your Photos:</div>\n                                                <button type="button" class="btn btn-icon btn-close">\n                                                    <i class="icon-close"></i>\n                                                </button>\n                                            </div>\n                                            <div class="upload-inner-content"></div>\n                                        </div>\n                                    </div>');a.forEach((function(e){t.find(".upload-inner-content").append(k(e))})),t.find(".overlay, .btn-close").on("click",(function(){t.removeClass("visible"),setTimeout((function(){t.remove()}),160)})),e("body").append(t),setTimeout((function(){t.addClass("visible")}),3)}))}if(i>5)return}n.append(k(t))})),1===u&&(t.hide(),n.append(`<button class="btn btn-full btn-icon-left change-image" type="button"><span>Change ${i[0]?i.html():"Photo"}<i class="icon-refresh-ccw"></i></span></button>`)),n.addClass("active"),initAudioCard()}function k(n){const i=e('<button type="button" class="btn btn-icon remove"><i class="icon-trash"></i></button>'),o=e('<button type="button" class="btn btn-icon edit"><i class="icon-edit"></i></button>');let s=e('<div class="upload-item"></div>');return["photo","video"].includes(n.type)?s.append(`<img src="${n.thumbnail}" alt="${n.thumbnail}"/>`):"audio"===n.type?s.append(` <div class="audio-card" data-src="${n.url}">\n                        <div class="card-content">\n                            <div class="card-title" itemprop="name">${n.name}</div>\n                            <div class="card-time">\n                                <meta itemprop="duration" content="T2M10S">\n                                <span class="current-time">00:00</span> / <span>00:00</span>\n                            </div>\n                        </div>\n                        <div class="card-controllers">\n                            <button class="btn btn-icon play-btn" aria-label="Play Voice"><i class="icon-play"></i></button>\n                            <button class="btn btn-icon pause-btn" aria-label="Pause Voice"><i class="icon-pause"></i></button>\n                            <div class="slider-control">\n                                <input type="range" min="0" max="100" value="0">\n                                <div class="slider-track"><div class="slider-track-process"></div><div class="slider-track-buffer"></div></div>\n                            </div>\n                            <div class="card-volume">\n                                <div class="card-volume-progress">\n                                    <input type="range" min="0" max="1" step="0.01" value="1">\n                                    <div class="slider-track"><div class="slider-track-process" style="width: 100%;"></div><div class="slider-track-buffer"></div></div>\n                                </div>\n                                <button class="btn btn-icon volume-mute-btn" aria-label="Pause Voice"><i class="icon-silence"></i></button>\n                                <button class="btn btn-icon volume-on-btn" aria-label="Pause Voice"><i class="icon-audio"></i></button>\n                            </div>\n                        </div>\n                        <div class="card-loading"><div class="loader-mini"></div></div>\n                    </div>`):s.append(`<div class="other-file"><i class="icon-document"></i><div class="file-name">${n.name}</div></div>`),1!==u&&s.append(i),f&&s.append(o),i.on("click",(function(){const i=e('<div class="item-loading"><div class="loader-mini"></div>');s.append(i),e.ajax({url:"https://liliana.asensive.ir/api/uploadphoto/",type:"POST",data:n.id,success:function(e){s.remove(),function(e){let n=b();n=n.filter((function(t){return t.id!==e})),a.val(n.map((function(e){return e.id})).join(",")).trigger("change"),t.attr("data-default",JSON.stringify(n))}(n.id),C()},error:function(t){i.remove();let a=e('<button type="button" class="btn btn-full btn-primary">Ok</button>'),n=addAlertPopup({class:"",type:"icon",status:"danger",title:"Something went wrong, please check your internet connection and try again",actionElements:[a],actionLayout:"horizontal"});a.on("click",(function(){n.distory()}))}})})),o.on("click",(function(){let t="";"photo"===n.type?t="PNG, JPG":"video"===n.type?t="MP4":"audio"===n.type&&(t="MP3"),new MediaLibrary({type:n.type,data:{id:e(this).data("id")},openOnLibrary:!0,limitSize:void 0===p?10:parseFloat(p),cropRatio:void 0===l?[]:l,useTitle:"photo"!==n.type,saveUrl:"https://liliana.asensive.ir/api/uploadphoto/",fetchUrl:"https://liliana.asensive.ir/api/gallery/photo/",uploadUrl:"https://liliana.asensive.ir/api/gallery/photo-upload",translate:{uploadZoneTitle:`<b>Click to upload</b> <span class="visible-desktop">or drag and drop</span> ${n.type}`,uploadZoneDescription:`Allowed format: ${t} (Up to: 1 photo/${p} Mb)`},onSave:function(e){y(n.id,e),C()}})})),s}t.data("detect")||(t.attr("data-detect",!0),t.on("click",(function(){if(f){let e="";return e="photo"===v?"PNG, JPG":"video"===v?"MP4":"audio"===v?"MP3":o,void new MediaLibrary({type:v,accept:o.split(","),openOnLibrary:!0,limitSize:void 0===p?10:parseFloat(p),cropRatio:void 0===l?[]:l,saveUrl:"https://liliana.asensive.ir/api/uploadphoto/",fetchUrl:"https://liliana.asensive.ir/api/gallery/photo/",uploadUrl:"https://liliana.asensive.ir/api/gallery/photo-upload",translate:{uploadZoneTitle:`<b>Click to upload</b> <span class="visible-desktop">or drag and drop</span> ${v}`,uploadZoneDescription:`Allowed format: ${e} (Up to: 1 photo/${p} Mb)`},onSave:function(e){g(e),C()}})}m()&&w()})),t.on("dragover",(function(e){e.preventDefault(),t.addClass("active--draged")})),t.on("dragleave dragend",(function(e){t.removeClass("active--draged")})),t.on("drop",(function(a){a.preventDefault();let n=a.originalEvent.dataTransfer.files;n[0].name.match(/\.([a-zA-Z0-9]+)$/);if(m())if(1===n.length)w(n);else{let t=e('<button type="button" class="btn btn-full btn-primary">Ok</button>'),a=addAlertPopup({class:"",type:"icon",status:"danger",title:"You can only drop one file",actionElements:[t],actionLayout:"horizontal"});t.on("click",(function(){a.distory()}))}t.removeClass("active--draged")})),t.on("reset",(function(){C()})),n.on("click",".change-image",(function(){if(f){const e=b();let t="";return"photo"===e[0].type?t="PNG, JPG":"video"===e[0].type?t="MP4":"audio"===e[0].type&&(t="MP3"),void new MediaLibrary({type:e[0].type,data:{id:e[0].id},openOnLibrary:!0,limitSize:void 0===p?10:parseFloat(p),cropRatio:void 0===l?[]:l,saveUrl:"https://liliana.asensive.ir/api/uploadphoto/",fetchUrl:"https://liliana.asensive.ir/api/gallery/photo/",uploadUrl:"https://liliana.asensive.ir/api/gallery/photo-upload",translate:{uploadZoneTitle:`<b>Click to upload</b> <span class="visible-desktop">or drag and drop</span> ${e[0].type}`,uploadZoneDescription:`Allowed format: ${t} (Up to: 1 photo/${p} Mb)`},onSave:function(t){y(e[0].id,t),C()}})}w()})),t.attr("data-default")&&(!function(){const e=b();a.val(e.map((function(e){return e.id})).join(",")).trigger("change")}(),C()))}))}function i(){e("[data-dependency]").each((function(){let t=e(this),a=t.data("dependency"),n=t.data("dependency-value"),i=n.split(","),o=t.data("dependency-is-not"),l=t.data("deep-check"),s=e(a);function d(l=!1){let d,u=s;if("tempCheck"!==n){if(-1!==jQuery.inArray(s.attr("type"),["radio","checkbox"]))u=e(`${a}:checked`),d=u.val()?u.val():u.length>0?"on":"off";else{if("select"===s.parents(".field").data("type")&&s.parents(".field").hasClass("multiple")){return void(s.val().split(",").indexOf(n)>=0?(t.show(),t.attr("data-dependency-show","true")):(t.hide(),c(t,l),t.attr("data-dependency-show","false")))}d=u.val()}1==o?i.includes(d)?(t.hide(),c(t,l),r(t,!1,l),t.attr("data-dependency-show","false")):(t.show(),r(t,!0),t.attr("data-dependency-show","true")):i.includes(d)?(t.show(),r(t,!0),t.attr("data-dependency-show","true")):(t.hide(),c(t,l),r(t,!1,l),t.attr("data-dependency-show","false"))}else(o?""!==u.val().trim():""===u.val().trim())?(t.hide(),r(t,!1,l),t.attr("data-dependency-show","false")):(t.show(),r(t,!0),t.attr("data-dependency-show","true"))}function r(t,a=!1,n=!1){const i=t.find("input");!1!==l&&i.each((function(){const t=e(this),i=t.attr("id");if(void 0===i)return;const o=e(`[data-dependency="#${i}"]`);0!==o.length&&(a?t.trigger("dependencyCheck"):(o.hide(),c(o,n),o.attr("data-dependency-show","false")))}))}function c(t,a=!1){if(a)return;const n=t.find(".field");n.each((function(){const t=e(this),a=t.data("type"),n=t.find("input, textarea");switch(a){case"text":case"number":case"textarea":case"date":case"time":n.val("").trigger("change");break;case"radio":e(`input[name="${n.attr("name")}"]`).prop("checked",!1).trigger("change");break;case"select":n.val("").trigger("reset");break;case"checkbox":n.prop("checked",!1).trigger("change");break;case"upload":t.find(".upload-drop-zone").attr("data-default",""),n.val("").trigger("reset")}})),t.find(".table-repeater input").val(""),t.find(".table-repeater").trigger("rebuild"),t.find(".table-repeater .repeater-table").removeClass("error"),n.removeClass("field--invalid field--valid"),t.find(".field-error-msg").removeClass("active")}t.data("dependency-check")||(t.attr("data-dependency-check",!0),d(!0),s.on("change reset keyup",(function(){d(),s.parents(".field-type-select").length>0&&s.parents(".field-type-select").find(".field-select-options").trigger("reset")})),s.on("dependencyCheck",(function(){d()})))}))}t(),e(window).resize(t),a(),e(".heading-box").each((function(){const t=e(this),a=t.data("auto-size"),n=t.data("col"),i=function(){const a=e(window).width(),i=t.find(".heading-content").width();a<=576?t.find(".heading-content > *").width((i-16)/n):t.find(".heading-content > *").width("auto")};a&&(e(window).resize(i),i())})),e(document).on("click",".btn-add-model-to-bookmark",(function(t){let a=e(this).parents(".model-card");const n=a.data("id"),i=localStorage.getItem("bookmark");if(a.hasClass("item-bookmarked")&&null!==i){let e=i.split(",");e=e.filter((function(e){return e!==n.toString()})),localStorage.setItem("bookmark",e),a.removeClass("item-bookmarked")}else if(i){const e=i.split(",");e.push(n),localStorage.setItem("bookmark",e),a.addClass("item-bookmarked")}else localStorage.setItem("bookmark",[n]),a.addClass("item-bookmarked");return!1})),e(".filter-area").each((function(){const t=e(this),a=t.data("active-filter"),n=function(a){let n=t.find(".filter-item");t.find(".filter-option").removeClass("active"),n.hide(),"all"==a?(t.find('.filter-option[data-filter="all"]').addClass("active"),n.show()):(t.find(`.filter-option[data-filter="${a}"]`).addClass("active"),n.each((function(){let t=e(this),n=t.data("filter").split(",");-1!==e.inArray(a,n)&&t.show()})))};a&&n(a),t.find(".filter-option").on("click",(function(){return n(e(this).data("filter")),!1}))})),e(".accordion").each((function(){const t=e(this);t.find(".accordion-content").hide(),t.find(".accordion-header").on("click",(function(){const a=e(this).parent(),n=a.hasClass("active");return t.find(".accordion-item").removeClass("active"),t.find(".accordion-content").slideUp(),n||(a.addClass("active"),a.find(".accordion-content").slideDown()),!1}))})),e(".read-more-element").each((function(){const t=e(this),a=t.data("length-desktop"),n=t.data("length-mobile"),i=t.text(),o=e(window).width();t.data("detect")||(t.attr("data-detect",!0),t.on("show",(function(){t.html(i),t.append('<span class="read-more-button">Less</span>')})),t.on("less",(function(){o>576?i.length>a&&(t.html(i.substring(0,a)+"..."),t.append('<span class="read-more-button">Read More</span>')):i.length>n&&(t.html(i.substring(0,n)+"..."),t.append('<span class="read-more-button">Read More</span>'))})),t.on("click",".read-more-button",(function(){t.hasClass("active")?(t.removeClass("active"),t.trigger("less")):(t.addClass("active"),t.trigger("show"))})),t.trigger("less"))})),function(){let t={},a=e("[data-light-box]");a.each((function(n){t[n]={tags:e(this).find(".light-box-tags").clone(),description:e(this).find(".light-box-description").clone()},e(this).attr("data-object-id",n),e(this).find(".light-box-tags, .light-box-description").remove(),e(this).on("click",(function(i){i.preventDefault();let o=e(this),l=n,s=o.data("light-box"),d=o.data("light-box-type"),r=o.data("light-box-selector"),c=e(`[data-light-box=${s}]`).length>1,u=o.data("light-box-close"),p=o.attr("href"),f=o.attr("data-object-id");u=null==u||u;let v=e('<button class="prev"><i class="icon-arrow-left"></i></button>'),h=e('<button class="next"><i class="icon-arrow-right"></i></button>'),m=e('<button class="close"><i class="icon-close"></i></button>'),b=e('<div class="error-msg">Ooops!</div>'),g=e('<div class="loading"></div>'),y=e('<div class="light-box"></div>'),w=e('<div class="overlay"></div>'),C=e('<div class="light-box-content"></div>'),k=e('<div class="light-box-inner-content"></div>'),$=function(){switch(d){case"image":let a=e(`<img src="${p}">`);return a.on("load",(function(){g.parent().append([a,x(t[f].tags),t[f].description]),t[f].description.width(a.width()),t[f].tags.width(a.width()),g.remove()})),g;case"video":let n=e(`<div><video controls loop autoplay><source src="${p}" type="video/mp4"></video></div>`);return n.append([x(t[f].tags),t[f].description]),n;case"iframe":return e(`<iframe src"${p}"></iframe>`);case"element":let i=document.querySelector(r);return e(i.outerHTML).css("display","block");default:return!1}};function x(t){return t.find("span").each((function(){e(this).parent().append(`<a href="${e(this).data("href")}">${e(this).html()}</a>`),e(this).remove()})),t}let S=function(t,n=!0){let i=t,o=!0;for(;o;)if(i=n?++i:--i,i>a.length-1&&(i=0),i<0&&(i=a.length-1),t==i)o=!1;else{let t=e(a[i]);if(t.data("light-box")==s){l=i,s=t.data("light-box"),d=t.data("light-box-type"),r=t.data("light-box-selector"),p=t.attr("href"),f=t.attr("data-object-id");let a=$();k.html([a?m:null,a||b]),o=!1,e.each([m,w],(function(){this.on("click",(function(){y.remove()}))}))}}};e.each([m,w],(function(){this.on("click",(function(){y.remove()}))})),h.on("click",(function(){S(l)})),v.on("click",(function(){S(l,!1)})),y.append([C,w]),C.append([c?v:null,k,c?h:null]);let P=$();return k.append([u&&P?m:null,P||b]),e("body").append(y),!1}))}))}(),initAudioCard(),function(t){let o=null;function l(t,a,n=!0){const i=e("<tr></tr>");Object.keys(a).forEach((function(e){const t=a[e];!1!==t.visible&&void 0===t.custom&&i.append(`<td>${t.label}</td>`)})),n&&i.append('<td class="col-actions"></td>'),t.find("thead").html(""),t.find("thead").append(i)}function s(t,a,n,i=!0){const l=d(t.find(".table-repeater-input").val()),s=Object.keys(n),r=a.find("tbody");if(a.find("tbody").html(""),a.find(".empty-message").remove(),0===l.length)return a.append('<div class="empty-message">There is no item</div>'),void t.addClass("is-empty");t.removeClass("is-empty"),l.forEach((function(a,l){const c=e(`<tr data-index="${l}"></tr>`);s.forEach((function(i){const s=n[i];if(!1!==s.visible&&void 0!==a[i])if(s.custom)0===c.find(`td.repeater-col-${s.custom}`).length?c.append(`<td class="repeater-col-${s.custom}"><span class="table-cell-label">${s.label}:</span><span>${""===a[i].text?"-":a[i].text}</span></td>`):""!==a[i].text&&c.find(`td.repeater-col-${s.custom}`).html(`<span class="table-cell-label">${s.label}:</span><span>${a[i].text}</span>`);else{if(!0===s.preview){const a=e(`<td><span class="table-cell-label">${s.label}:</span><button type="button" class="preview" data-index="${l}" data-field="${i}"><i class="icon-eye"></i></button></td>`);return a.on("click","button.preview",(function(){const a=e(this).attr("data-index"),n=e(this).attr("data-field");!function(t,a,n){const i=d(t.find(".table-repeater-input").val()),l=e('<div class="table-repeater-form-view preview-mode">\n                    <div class="repeater-inner-wrapper">\n                        <div class="repeater-title">Preview</div>\n                        <div class="repeater-content"></div>\n                        <div class="repeater-footer"><button type="button" class="btn btn-primary ok">Ok</button></div>\n                    </div>\n                    <div class="repeater-overlay"></div>\n                </div>');o=l,t.data("preview-class")&&l.addClass(t.data("preview-class"));if("upload"===i[a][n].type){let e=!1,t=[];i[a][n].text.forEach((function(a){"photo"===a.type?(e=!0,t.push(`<div class="grid-item"><img src="${a.thumbnail}"/></div>`)):"video"===a.type?(e=!0,t.push(`<div class="grid-item"><video autoplay loop controls><source src="${a.url}" type="video/mp4"></video></div>`)):"audio"===a.type?(e=!0,t.push(`<div class="grid-item"><audio controls><source src="${a.url}" type="audio/mpeg"></audio></div>`)):t.push(`<div><a href="${a.url}" target="_blank">${a.url}</a></div>`)})),e?(l.addClass("photo-content"),l.find(".repeater-content").append('<div class="preview-grid"></div>'),l.find(".preview-grid").attr("data-count",i[a][n].text.length),l.find(".preview-grid").append(t)):l.find(".repeater-content").append(t)}else l.addClass("any-content"),l.find(".repeater-content").append(i[a][n].text);l.on("click",".repeater-footer button.ok, .repeater-overlay",(function(){l.remove(),bodyOverflowController(),o=null})),l.find(".repeater-content").append(i[a][n]),e("body").append(l),bodyOverflowController(!0)}(t,a,n)})),void c.append(a)}if("upload"===s.type){const t=e('<td><span class="table-cell-label">${column.label}:</span></td>');return 0===a[i].text.length?t.append("-"):a[i].text.forEach((function(e,a){["photo","video","audio"].includes(e.type)?t.append(`<img src="${e.thumbnail}"/>`):t.append((a>0?", ":"")+e.name)})),void c.append(t)}c.append(`<td><span class="table-cell-label">${s.label}:</span><span>${""===a[i].text?"-":a[i].text}</span></td>`)}})),i&&c.append('<td class="col-actions">\n                        <span class="table-cell-label">Actions:</span>\n                        <div class="repeater-row-actions">\n                            <button type="button" class="edit"><i class="icon-edit"></i></button>\n                            <button type="button" class="remove"><i class="icon-trash-2"></i></button>\n                        </div>\n                    </td>'),r.append(c)}))}function d(e){try{return JSON.parse(e)}catch(e){return[]}}function r(t,l,r,c,u=null){const p=t.data("name"),f=d(t.find(".table-repeater-input").val()),v=e(`<div class="table-repeater-form-view">\n                    <div class="repeater-inner-wrapper">\n                        <div class="repeater-title">${null===u?"Add New":"Edit"}${void 0===p?"":" "+p}</div>\n                        <div class="repeater-content"></div>\n                        <div class="repeater-footer">\n                            <button type="button" class="btn cancel">Cancel</button>\n                            <button type="button" class="btn btn-primary apply">${null===u?"Add New":"Save"}</button>\n                        </div>\n                    </div>\n                    <div class="repeater-overlay"></div>\n                </div>`);o=v;const h=v.find(".repeater-footer button.apply");t.data("class")&&v.addClass(t.data("class")),null===u&&v.find(".repeater-footer").append('<button type="button" class="btn btn-primary continue">Add & exit</button>'),v.on("click",".repeater-footer button.cancel, .repeater-overlay",(function(){v.remove(),bodyOverflowController(),o=null})),v.on("click",".repeater-footer button.apply, .repeater-footer button.continue",(function(){if(function(t){const a=t.find(".field");let n=!1,i=!1;return a.each((function(t,a){const o=(new ProValidation).singleValidate(a);""!==e(a).find("input, textarea").val().trim()&&(i=!0),e(a).parents("[data-dependency-show=false]").length>0||!1!==n||o||(n=!0)})),!!n||!i}(v))return;const p=function(t){const a=t.find(".field"),n={};return a.each((function(){const t=e(this),a=t.data("type");let i=t.find("input, textarea"),o=i.val(),l=o;if("select"===a)l=i.attr("data-label");else if("upload"===a){const e=i.parents(".upload-drop-zone").attr("data-default");l=e?JSON.parse(e):[]}let s=i.attr("name"),d=t.parents("[data-dependency]");d.length>0&&(l="true"===d.attr("data-dependency-show")?l:""),n[s]={type:a,input:o,text:l}})),n}(v);(function(t,a,n=null){const i=d(t.find(".table-repeater-input").val()),o=JSON.stringify(a).toLowerCase();let l=t.data("unique"),s=t.data("exclusive"),r=t.data("exclusive-value"),c=t.data("exclusive-empty-element-check"),u=t.data("unique-message"),p=t.data("exclusive-message"),f=t.data("duplicate-message"),v=!1,h=!0,m=!1;i.forEach((function(e,t){if(t!=n){if(l){l.split(",").forEach((function(t){e[t].input===a[t].input&&(h=!1)}))}JSON.stringify(e).toLowerCase()!==o||(v=!0)}})),s&&i[0]&&(i[0][s].input===r||a[s].input===r)&&(m=!0);if(!h||m){let t=e('<button type="button" class="btn btn-full btn-primary">Ok</button>'),a=addAlertPopup({class:"",type:"icon",status:"danger",title:u||"Selected values do not require storage",actionElements:[t],actionLayout:"horizontal"});return t.on("click",(function(){a.distory()})),!1}if(c){const t=e(`#${c}`).val();if(void 0!==t&&""!==t&&a[s].input===r){let t=e('<button type="button" class="btn btn-full btn-primary">Ok</button>'),a=addAlertPopup({class:"",type:"icon",status:"danger",title:p||"Selected values do not require storage",actionElements:[t],actionLayout:"horizontal"});return t.on("click",(function(){a.distory()})),!1}}if(v){let t=e('<button type="button" class="btn btn-full btn-primary">Ok</button>'),a=addAlertPopup({class:"",type:"icon",status:"danger",title:f||"The tag cannot be duplicated",actionElements:[t],actionLayout:"horizontal"});return t.on("click",(function(){a.distory()})),!1}null!==n?i[n]=a:i.push(a);return t.removeClass("is-empty"),t.find(".table-repeater-input").val(JSON.stringify(i)).trigger("change"),t.find(".repeater-table").removeClass("error"),!0})(t,p,u)&&(s(t,r,c),e(this).hasClass("continue")||null!==u?(v.remove(),bodyOverflowController(),o=null):(v.find(".repeater-content").html(l),fieldDetector(),n(),i(),a(),h.html("Item added").addClass("success"),setTimeout((function(){h.html(null===u?"Add New":"Save").removeClass("success")}),1500)))})),v.find(".repeater-content").html(l),null!==u&&Object.keys(f[u]).forEach((function(e){const t=v.find(`[name="${e}"]`),a=t.parents(".field"),n=a.data("type");if(t.val(f[u][e].input),"select"===n)t.find("option").removeAttr("selected"),t.attr("data-value",f[u][e].input),t.attr("data-default-value",f[u][e].input),f[u][e].input.split(",").forEach((function(e){t.find(`option[value="${e}"]`).attr("selected","selected")}));else if("upload"===n){const t=f[u][e].text;a.find(".upload-drop-zone").attr("data-default",""===t?"":JSON.stringify(t))}})),e("body").append(v),bodyOverflowController(!0),fieldDetector(),n(),i(),a()}t.find(".table-repeater").each((function(){const t=e(this),a=t.find(".repeater-form"),n=t.find(".repeater-table"),i=function(t,a){const n={};return a.find(".field").each((function(){const t=e(this),a=t.data("type");let i=t.find("input");"textarea"===a&&(i=t.find("textarea")),"select"===a&&(i=t.find("select"));let o=i.attr("name");n[o]={type:a,label:t.find("label").text().replace("*","").trim(),visible:t.hasClass("table-visible"),preview:t.hasClass("table-preview"),custom:t.data("col-name")}})),(void 0===t.data("custom-column")?[]:t.data("custom-column")).forEach((function(e){n[e.name]={type:"custom",label:e.text,visible:!0,preview:!1,custom:void 0}})),n}(t,a),c=a.html();t.data("detect")||(t.attr("data-detect",!0),l(n,i),s(t,n,i),a.remove(),bodyOverflowController(),t.on("click",".repeater-add-item",(function(){r(t,c,n,i)})),t.on("click","button.edit",(function(){const a=e(this).parents("tr").attr("data-index");r(t,c,n,i,a)})),t.on("click","button.remove",(function(){let a=e('<button type="button" class="btn btn-full btn-primary">Ok</button>'),o=e('<button type="button" class="btn btn-full">Cancel</button>'),l=addAlertPopup({class:"",type:"icon",status:"warning",title:"Should the item be deleted?",actionElements:[o,a],actionLayout:"horizontal"});a.on("click",(function(){const a=e(this).parents("tr").attr("data-index");!function(e,t){const a=d(e.find(".table-repeater-input").val());a.splice(t,1),0===a.length?(e.addClass("is-empty"),e.find(".table-repeater-input").val(null).trigger("change"),e.data("required")&&e.find(".repeater-table").addClass("error")):e.find(".table-repeater-input").val(JSON.stringify(a)).trigger("change")}(t,a),s(t,n,i),l.distory()})),o.on("click",(function(){l.distory()}))})),t.on("rebuild",(function(){s(t,n,i)})),t.on("rebuildLive",(function(){const a=t.attr("data-live"),n=e(`#${a}`),o=n.find(".repeater-table");n.find("thead").html(""),n.find("tbody").html(""),l(o,i,!1),s(t,o,i,!1)})),t.on("openPopup",(function(){r(t,c,n,i)})),t.on("closePopup",(function(){null!==o&&(o.remove(),bodyOverflowController())})),void 0!==t.attr("data-live")&&t.trigger("rebuildLive"))}))}(e(document)),fieldDetector(),e(document).on("focus",".field input.field-datepicker",(function(){let t=e(this),a=e(this).parents(".field"),n=t.attr("data-min-date"),i=a.find("label").clone();i.find("*").remove(),new DatePicker({date:t.val(),title:i.text(),parent:a,minDate:n,closeBtnIcon:"icon-calendar",submitBtnCallback:function(a){const n=t.attr("data-limit-object");t.val(a.input.val()).trigger("change"),void 0!==n&&(e(n).val(""),e(n).attr("data-min-date",a.input.val()),e(n).parents(".field").removeClass("field--invalid field--valid")),a.distory()},closeBtnCallback:function(t){e(window).width()<576&&t.distory()},beforeGenerate:function(e){a.addClass("field--focus field--lv-label")},beforeDistory:function(e){const n=new ProValidation,i=a.parents(".field-group-validations");n.singleValidate(a[0]),""===t.val()&&(a.removeClass("field--focus field--lv-label"),i.find(".field").removeClass("field--focus field--lv-label"))}})})),e(document).on("focus",".field input.field-wheel-datepicker",(function(){let t=e(this),a=e(this).parents(".field"),n=a.find("label").clone();n.find("*").remove(),t.blur(),new DatePicker({mode:"wheel",date:t.val(),title:n.text(),parent:a,closeBtnIcon:"icon-calendar",submitBtnCallback:function(e){t.val(e.input.val()).trigger("change"),e.distory()},closeBtnCallback:function(t){e(window).width()<576&&t.distory()},beforeGenerate:function(e){a.addClass("field--focus field--lv-label")},beforeDistory:function(e){const n=new ProValidation,i=a.parents(".field-group-validations");n.singleValidate(a[0]),""===t.val()&&(a.removeClass("field--focus field--lv-label"),i.find(".field").removeClass("field--focus field--lv-label"))}})})),e(document).on("focus",".field input.field-wheel-timepicker",(function(){let t=e(this),a=e(this).parents(".field"),n=t.attr("data-min-date"),i=a.find("label").clone();i.find("*").remove(),t.blur(),new DatePicker({type:"time",mode:"wheel",date:t.val(),minDate:n,title:i.text(),parent:a,closeBtnIcon:"icon-clock",submitBtnCallback:function(a){const n=t.attr("data-limit-object");t.val(a.input.val()).trigger("change"),void 0!==n&&(e(n).val(""),e(n).attr("data-min-date",a.input.val()),e(n).parents(".field").removeClass("field--invalid field--valid")),a.distory()},closeBtnCallback:function(t){e(window).width()<576&&t.distory()},beforeGenerate:function(e){a.addClass("field--focus field--lv-label")},beforeDistory:function(e){const n=new ProValidation,i=a.parents(".field-group-validations");n.singleValidate(a[0]),""===t.val()&&(a.removeClass("field--focus field--lv-label"),i.find(".field").removeClass("field--focus field--lv-label"))}})})),e(document).mouseup((function(e){var t=currentSelect;if(!t)return!1;if(!t.is(e.target)&&0===t.has(e.target).length){t.removeClass("field--focus field--lv-label"),t.find(".field-select-options").trigger("destroy"),currentSelect=null;(new ProValidation).singleValidate(t[0])}})),e(document).on("click",".progress-indicator .next-step",(function(t){const a=e(".step-content").find(".field");let n=!1;if(a.each((function(t,a){const i=(new ProValidation).singleValidate(a);e(a).parents("[data-dependency-show=false]").length>0||!1!==n||i||(n=!0)})),e(".table-repeater").each((function(){const t=e(this),a=t.data("required"),i=t.find(".table-repeater-input").val();let o=!1;if(!(t.parents("[data-dependency-show=false]").length>0)&&!0===a){try{o=JSON.parse(i)}catch(e){o=[]}0===o.length&&(n=!0,t.find(".repeater-table").addClass("error"))}})),n)return!1})),e(document).on("click",".field-show-password",(function(){let t=e(this).parents(".field").find("input");"password"==t.attr("type")?(t.attr("type","text"),e(this).addClass("active")):(t.attr("type","password"),e(this).removeClass("active"))})),e(document).on("submit",".form-validation-on-submit",(function(){const t=e(this).find(".field");let a=!1;if(t.each((function(e,t){const n=(new ProValidation).singleValidate(t);!1!==a||n||(a=!0)})),a)return!1})),initResendTimer(),n(),i();const o="JVyKK7xeWVxTXReJVXOhiuNWTo1tt0FcGbBlTb3";function l(e,t){const a=[];new ApiRequest({type:"GET",url:`https://liliana.asensive.ir/api/geoname/children/?geonameId=${e}&username=mohammadsh79&lang=en`,success:function(e){e.geonames.forEach((function(e){a.push({id:e.geonameId,value:e.geonameId,text:e.name,color:null,flag:null})})),t.parents(".field").attr("data-options",JSON.stringify(a)),t.val("").trigger("reset"),t.trigger("optionsReset").trigger("change")}})}e(document).on("change","input#country",(function(){const t=e(this).val(),a=e("input#state"),n=e("input#city");a.trigger("clear"),n.trigger("clear"),"1861060"!==t&&""!==t.trim()?l(t,a):function(){const t=[];new ApiRequest({type:"GET",url:`https://apis.postcode-jp.com/api/v5/prefectures/?apikey=${o}`,success:function(a){a.data.forEach((function(e){t.push({id:e.prefCode,value:e.prefCode,text:e.pref,color:null,flag:null})}));const n=e("input#state");n.parents(".field").attr("data-options",JSON.stringify(t)),n.val("").trigger("reset"),n.trigger("optionsReset").trigger("change")}})}()})),e(document).on("change","input#state",(function(){const t=e(this).val(),a=e("input#city");a.trigger("clear"),"1861060"!==e("input#country").val()&&""!==t.trim()?l(t,a):""!==t.trim()&&(a.attr("data-default-value",""),function(t){const a=[];new ApiRequest({type:"GET",url:`https://apis.postcode-jp.com/api/v5/prefectures/${t}/cities/?&apikey=${o}`,success:function(t){t.data.forEach((function(e){a.push({id:e.cityCode,value:e.cityCode,text:e.city,color:null,flag:null})}));const n=e("input#city");n.parents(".field").attr("data-options",JSON.stringify(a)),n.val("").trigger("reset"),n.trigger("optionsReset").trigger("change")}})}(t))}));let s=null;if(e(document).on("change input","input#zipcode",(function(){const t=e(this).val();if("1861060"===e("input#country").val()){if(t.length<3)return e("input#state").val("").trigger("reset"),void e("input#city").val("").trigger("reset");clearTimeout(s),s=setTimeout((function(){e.ajax({type:"GET",url:`https://apis.postcode-jp.com/api/v5/postcodes/${t}?apikey=${o}`,contentType:"application/json",dataType:"json",success:function(t){const a=e("input#state");a.val(t[0].prefCode),a.attr("data-default-value",t[0].prefCode),a.val(t[0].prefCode).trigger("reset").trigger("change");const n=e("input#city");n.val(t[0].cityCode),n.attr("data-default-value",t[0].cityCode),n.val(t[0].cityCode).trigger("reset").trigger("change");e("input#area").val(t[0].town).trigger("change")},error:function(e,t,a){console.log(a)}})}),600)}})),e(document).on("click","#job_experience_open_main_popup",(function(){e("#table_job_experiences_manual").trigger("openPopup")})),e(document).on("click",".btn-job-exp-manual",(function(){const t=e("#table_job_experiences_manual");e("#table_job_experiences_pdf").trigger("closePopup"),t.trigger("openPopup")})),e(document).on("click",".btn-job-exp-pdf",(function(){const t=e("#table_job_experiences_manual"),a=e("#table_job_experiences_pdf"),n=t.data("exclusive"),i=t.data("exclusive-value");let o=[];try{o=JSON.parse(t.find("input").val())}catch(e){}if(o.length>0&&o[0][n].input===i){e("#job_exp_switch_1").addClass("active"),e("#job_exp_switch_2").removeClass("active");let t=e('<button type="button" class="btn btn-full btn-primary">Ok</button>'),a=addAlertPopup({class:"",type:"icon",status:"danger",title:"There are no pdf upload conditions",actionElements:[t],actionLayout:"horizontal"});t.on("click",(function(){a.distory()}))}else t.trigger("closePopup"),a.trigger("openPopup")})),e("#job_experiences").length>0){const t=e("#table_job_experiences_pdf"),a=e("#table_job_experiences_manual");t.hasClass("is-empty")?a.hasClass("is-empty")||t.data("required",!1):a.data("required",!1)}e(document).on("change","input#job_experiences",(function(){const t=e("#table_job_experiences_pdf");e(this).parents(".table-repeater").hasClass("is-empty")?t.data("required",!0):(t.data("required",!1),t.find(".repeater-table").removeClass("error"))})),e(document).on("change","input#job_experiences_pdf",(function(){const t=e("#table_job_experiences_manual");e(this).parents(".table-repeater").hasClass("is-empty")?t.data("required",!0):(t.data("required",!1),t.find(".repeater-table").removeClass("error"))})),e(document).on("click",".image-preview-eye-button",(function(){try{let t=[];const a=e('<div class="image-preview-eye-popup">\n                    <div class="preview-inner-wrapper">\n                        <div class="preview-title">Preview</div>\n                        <div class="preview-content"><div class="preview-grid"></div></div>\n                        <div class="preview-footer"><button type="button" class="btn btn-primary ok">Ok</button></div>\n                    </div>\n                    <div class="preview-overlay"></div>\n                </div>');t=JSON.parse(e(this).attr("data-images")),a.find(".preview-grid").attr("data-count",t.length),t.forEach((function(e){try{new URL(e);const t=e.match(/\.([a-zA-Z0-9]+)$/);["png","jpg","jpeg","webp","gif"].includes(t[1])?(a.find(".preview-content").addClass("photo"),a.find(".preview-grid").append(`<div class="grid-item"><a href="${e}" target="_blank"><img src="${e}" alt="${e}"/></a></div>`)):["mp4","webm"].includes(t[1])?(a.find(".preview-content").addClass("video"),a.find(".preview-grid").append(`<div class="grid-item"><video autoplay loop controls><source src="${e}" type="video/mp4"></video></div>`)):["mp3"].includes(t[1])?(a.find(".preview-content").addClass("audio"),a.find(".preview-grid").append(`<div class="grid-item"><audio controls><source src="${e}" type="audio/mpeg"></audio></a></div>`)):(a.find(".preview-content").addClass("other"),a.find(".preview-grid").attr("data-count",1),a.find(".preview-grid").append(`<div class="grid-item"><a href="${e}" target="_blank" class="text-view">${e}</a></div>`))}catch(t){a.find(".preview-content").addClass("other"),a.find(".preview-grid").attr("data-count",1),a.find(".preview-grid").append(`<div class="grid-item"><span class="text-view">${e}</span></div>`)}})),a.on("click",".preview-footer .ok, .preview-overlay",(function(){a.remove()})),e("body").append(a)}catch(e){}})),e(document).on("input change",".input-range-controller",(function(){const t=parseFloat(e(this).attr("min")),a=parseFloat(e(this).attr("max")),n=parseFloat(e(this).val());void 0!==e(this).attr("min")&&n<t&&e(this).val(t),void 0!==e(this).attr("max")&&n>a&&e(this).val(a)}))}))}(jQuery);