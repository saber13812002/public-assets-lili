let apiRequests={};class ApiRequest{constructor(t={}){t={url:"",type:"get",contentType:"application/json",dataType:"json",data:"",success:function(){},error:function(){},complete:function(){},...t},apiRequests[t.url]?(this.object=apiRequests[t.url],"waiting"===this.object.status?this.object.callbacks.push({complete:t.complete,success:t.success,error:t.error}):"done"===this.object.status?t.success(this.object.data):t.error()):(this.status="waiting",this.url=t.url,this.type=t.type,this.contentType=t.contentType,this.dataType=t.dataType,this.data=t.data,this.complete=t.complete,this.success=t.success,this.error=t.error,this.object={url:this.url,status:this.status,callbacks:[{complete:this.complete,success:this.success,error:this.error}],data:null},apiRequests[t.url]=this.object,this.request())}request(){let t=this;$.ajax({url:this.url,type:this.type,contentType:this.contentType,dataType:this.dataType,data:this.data,complete:function(s,e){t.runCallbacks("complete",s,e)},success:function(s,e,c){t.object.status="done",t.object.data=s,t.runCallbacks("success",s,e,c)},error:function(s,e,c){t.object.status="error",t.runCallbacks("error",s,e,c)}})}runCallbacks(t,s=null,e=null,c=null){this.object.callbacks.forEach((function(a){a[t](s,e,c)}))}}